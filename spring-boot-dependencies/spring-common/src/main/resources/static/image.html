<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
<div>
    <img width="300px" height="150px" id="image" src="" alt=""/>
</div>
<div>
    <img width="300px" height="150px" src="http://localhost:8080/image/view/20201221_142738313_569.png"" alt=""/>
</div>
</body>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">
    const xhr = new XMLHttpRequest();
    // 将二进制流转为图片
    xhr.open('GET', "http://localhost:8080/image/download/20201221_142738313_569.png", true);
    xhr.setRequestHeader("Accept", "application/json;q=0.5");
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    xhr.responseType = "blob";
    xhr.onload = function () {
        // 请求完成
        if (this.status === 200) {
            const blob = this.response;
            const reader = new FileReader();
            // 转换为base64，可以直接放入a表情href
            reader.readAsDataURL(blob);
            reader.onload = function () {
                $("#image").attr("src", reader.result);
            }
        }
    };
    // 发送ajax请求
    xhr.send();


</script>

</html>